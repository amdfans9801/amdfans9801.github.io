
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>next主题优化 | Hexo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="John Doe">
    
    <meta name="description" content="NexT主题与Hexo更搭哦
本篇详细介绍Hexo-Next主题的一些个性化定制
1. 添加自定义导航分类（以Next主题为例，其他主题类似）需求
默认自带分类:首页,归档,分类,标签,关于.不够用.
想增加一些自定义的分类.
本文以添加 工具(tools) 分类为例.
摸索了半天,修改并不复杂.只">
    
    
    
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.svg" alt="Hexo" title="Hexo"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Hexo">Hexo</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/baidusitemap.xml">baiduSitemap</a></li>
					
						<li><a href="/atom.xml">Rss</a></li>
					
					<li>
					
						<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" class="st-default-search-input" maxlength="20" placeholder="Search" />
						</form>

					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/06/next/" title="next主题优化" itemprop="url">next主题优化</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://yoursite.com" title="John Doe">John Doe</a>
    </p>
  <p class="article-time">
    <time datetime="2016-05-07T03:11:32.000Z" itemprop="datePublished">2016-05-06</time>
    Updated:<time datetime="2016-05-12T21:53:50.000Z" itemprop="dateModified">2016-05-12</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#NexT主题与Hexo更搭哦"><span class="toc-number">1.</span> <span class="toc-text">NexT主题与Hexo更搭哦</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-添加自定义导航分类（以Next主题为例，其他主题类似）"><span class="toc-number">1.1.</span> <span class="toc-text">1. 添加自定义导航分类（以Next主题为例，其他主题类似）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#需求"><span class="toc-number">1.1.1.</span> <span class="toc-text">需求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改点"><span class="toc-number">1.1.2.</span> <span class="toc-text">修改点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#步骤"><span class="toc-number">1.1.3.</span> <span class="toc-text">步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-新建source-tools-index-md文件"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">1. 新建source/tools/index.md文件.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-修改themes-next-config-yml文件参数"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">2. 修改themes/next/_config.yml文件参数.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-修改themes-next-languages-zh-Hans-yml"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">3. 修改themes/next/languages/zh-Hans.yml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-修改完-重新编译部署即可"><span class="toc-number">1.1.3.4.</span> <span class="toc-text">4. 修改完,重新编译部署即可.</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-添加Fork-Me-On-Github"><span class="toc-number">1.2.</span> <span class="toc-text">2. 添加Fork Me On Github</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-拷贝Github挂件样式代码如下"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. 拷贝Github挂件样式代码如下:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-修改上述代码中href地址为自己的github地址"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. 修改上述代码中href地址为自己的github地址.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-修改hexo主题-这里以Next主题为例-不同主题修改略有差异-请注意"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. 修改hexo主题(这里以Next主题为例,不同主题修改略有差异,请注意)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-添加博客访问量统计"><span class="toc-number">1.3.</span> <span class="toc-text">3. 添加博客访问量统计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-博文访问量统计修改点-只适用于Next主题-其他主题-参考修改"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1 博文访问量统计修改点:(只适用于Next主题,其他主题,参考修改)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-添加多说评论"><span class="toc-number">1.4.</span> <span class="toc-text">4. 添加多说评论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-添加站内搜索"><span class="toc-number">1.5.</span> <span class="toc-text">5. 添加站内搜索</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SEO优化"><span class="toc-number">1.6.</span> <span class="toc-text">6. SEO优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-优化title"><span class="toc-number">1.6.1.</span> <span class="toc-text">6.1 优化title</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-进阶-seo优化，在Title中显示关键词"><span class="toc-number">1.6.2.</span> <span class="toc-text">6.2 进阶: seo优化，在Title中显示关键词</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-添加友情链接"><span class="toc-number">1.7.</span> <span class="toc-text">7. 添加友情链接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-添加最近访客"><span class="toc-number">1.8.</span> <span class="toc-text">8. 添加最近访客</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-博客迁移至gitcafe"><span class="toc-number">1.9.</span> <span class="toc-text">9. 博客迁移至gitcafe</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-博文中添加图片-音乐-视频"><span class="toc-number">1.10.</span> <span class="toc-text">10 博文中添加图片,音乐,视频.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-博客绑定二级域名"><span class="toc-number">1.11.</span> <span class="toc-text">11. 博客绑定二级域名</span></a></li></ol></li></ol>
		</div>
		
		<p><img src="http://i2.buimg.com/5e5f6e34775b6929.png" alt="GitHub Mark" title="GitHub Mark"></p>
<h1 id="NexT主题与Hexo更搭哦"><a href="#NexT主题与Hexo更搭哦" class="headerlink" title="NexT主题与Hexo更搭哦"></a>NexT主题与Hexo更搭哦</h1><hr>
<p><strong>本篇详细介绍Hexo-Next主题的一些个性化定制</strong></p>
<h2 id="1-添加自定义导航分类（以Next主题为例，其他主题类似）"><a href="#1-添加自定义导航分类（以Next主题为例，其他主题类似）" class="headerlink" title="1. 添加自定义导航分类（以Next主题为例，其他主题类似）"></a>1. 添加自定义导航分类（以Next主题为例，其他主题类似）</h2><h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><ul>
<li>默认自带分类:首页,归档,分类,标签,关于.不够用.</li>
<li>想增加一些自定义的分类.</li>
<li>本文以添加 工具(tools) 分类为例.</li>
<li>摸索了半天,修改并不复杂.只需要修改3处地方.</li>
</ul>
<h3 id="修改点"><a href="#修改点" class="headerlink" title="修改点"></a>修改点</h3><ul>
<li>iBlog/source/tools/index.md</li>
<li>iBlog/themes/next/_config.yml</li>
<li>iBlog/themes/next/languages/zh-Hans.yml</li>
</ul>
<h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><h4 id="1-新建source-tools-index-md文件"><a href="#1-新建source-tools-index-md文件" class="headerlink" title="1. 新建source/tools/index.md文件."></a>1. 新建source/tools/index.md文件.</h4><blockquote>
<p>在/source/ 文件夹,新建 tools目录,并添加一个index.md文件.可以拷   贝其他目录(如tags)中的index.md文件.</p>
</blockquote>
<h4 id="2-修改themes-next-config-yml文件参数"><a href="#2-修改themes-next-config-yml文件参数" class="headerlink" title="2. 修改themes/next/_config.yml文件参数."></a>2. 修改themes/next/_config.yml文件参数.</h4><blockquote>
<p>找到menu标签项, 添加子项: tools: /tools</p>
</blockquote>
<ul>
<li>配置修改</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">#when running hexo in a subdirectory (e.g. domain.tld/blog), remove leading slashes ( "/archives" -&gt; "archives" )</span></span><br><span class="line">menu:</span><br><span class="line">  home: /</span><br><span class="line">  archives: /archives</span><br><span class="line">  categories: /categories</span><br><span class="line">  tags: /tags</span><br><span class="line">  tools: /tools      <span class="comment"># 添加位置</span></span><br><span class="line">  about: /about</span><br><span class="line">  commonweal: /404.ht</span><br></pre></td></tr></table></figure>
<h4 id="3-修改themes-next-languages-zh-Hans-yml"><a href="#3-修改themes-next-languages-zh-Hans-yml" class="headerlink" title="3. 修改themes/next/languages/zh-Hans.yml"></a>3. 修改themes/next/languages/zh-Hans.yml</h4><blockquote>
<p>该文件,就对应中英文替换.如果漏修改此次.导航栏,就显示英文,很丑. </p>
</blockquote>
<ul>
<li>配置修改</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">title:</span><br><span class="line">  archive: 归档</span><br><span class="line">  category: 分类</span><br><span class="line">  tag: 标签</span><br><span class="line">menu:</span><br><span class="line">  home: 首页</span><br><span class="line">  archives: 归档</span><br><span class="line">  categories: 分类</span><br><span class="line">  tags: 标签</span><br><span class="line">  tools: 工具       <span class="comment"># 添加位置</span></span><br><span class="line">  about: 关于</span><br><span class="line">  commonweal: 公益404</span><br></pre></td></tr></table></figure>
<h4 id="4-修改完-重新编译部署即可"><a href="#4-修改完-重新编译部署即可" class="headerlink" title="4. 修改完,重新编译部署即可."></a>4. 修改完,重新编译部署即可.</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d -g</span><br></pre></td></tr></table></figure>
<h2 id="2-添加Fork-Me-On-Github"><a href="#2-添加Fork-Me-On-Github" class="headerlink" title="2. 添加Fork Me On Github"></a>2. 添加Fork Me On Github</h2><h3 id="1-拷贝Github挂件样式代码如下"><a href="#1-拷贝Github挂件样式代码如下" class="headerlink" title="1. 拷贝Github挂件样式代码如下:"></a>1. 拷贝Github挂件样式代码如下:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=<span class="string">"https://github.com/you"</span>&gt;&lt;img style=<span class="string">"position: absolute; top: 0; left: 0; border: 0;"</span> src=<span class="string">"https://camo.githubusercontent.com/8b6b8ccc6da3aa5722903da7b58eb5ab1081adee/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f6f72616e67655f6666373630302e706e67"</span> alt=<span class="string">"Fork me on GitHub"</span> data-canonical-src=<span class="string">"https://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png"</span>&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-修改上述代码中href地址为自己的github地址"><a href="#2-修改上述代码中href地址为自己的github地址" class="headerlink" title="2. 修改上述代码中href地址为自己的github地址."></a>2. 修改上述代码中href地址为自己的github地址.</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=<span class="string">"https://github.com/you"</span>&gt;</span><br><span class="line">改为:</span><br><span class="line">&lt;a href=<span class="string">"https://github.com/hhstore"</span>&gt;</span><br></pre></td></tr></table></figure>
<h3 id="3-修改hexo主题-这里以Next主题为例-不同主题修改略有差异-请注意"><a href="#3-修改hexo主题-这里以Next主题为例-不同主题修改略有差异-请注意" class="headerlink" title="3. 修改hexo主题(这里以Next主题为例,不同主题修改略有差异,请注意)"></a>3. 修改hexo主题(这里以Next主题为例,不同主题修改略有差异,请注意)</h3><ul>
<li>修改文件: themes/next/layout/_layout.swig</li>
<li>打开_layout.swig文件,找到如下对应位置,添加上述样式代码段即可.</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">class</span>=<span class="string">"theme-next &#123;% if theme.use_motion %&#125;use-motion&#123;% endif %&#125; &#123;% if theme.scheme %&#125;theme-next-&#123;&#123; theme.scheme | lower &#125;&#125;&#123;% endif %&#125;"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  &#123;% include '_partials/head.swig' %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>&#123;% block title %&#125;&#123;% endblock %&#125;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  &#123;% include '_partials/old-browsers.swig' %&#125;</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container one-column &#123;% block page_class %&#125;&#123;% endblock %&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"headband"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!----------- add Fork me on Github ------------&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://github.com/hhstore"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">style</span>=<span class="string">"position: absolute; top: 500; left: 0; border: 0;"</span> <span class="attr">src</span>=<span class="string">"https://camo.githubusercontent.com/8b6b8ccc6da3aa5722903da7b58eb5ab1081adee/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f6f72616e67655f6666373630302e706e67"</span> <span class="attr">alt</span>=<span class="string">"Fork me on GitHub"</span> <span class="attr">data-canonical-src</span>=<span class="string">"https://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!----------- add Fork me on Github ------------&gt;</span>   </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"header"</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header-inner"</span>&gt;</span></span><br><span class="line">        &#123;% include '_partials/header.swig' %&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-------------省略-------------------&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-------------省略-------------------&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"back-to-top"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-添加博客访问量统计"><a href="#3-添加博客访问量统计" class="headerlink" title="3. 添加博客访问量统计"></a>3. 添加博客访问量统计</h2><ul>
<li><a href="http://ibruce.info/2015/04/04/busuanzi/" target="_blank" rel="external">不蒜子</a></li>
<li><a href="http://jackroyal.github.io/2015/05/30/hexo-setting-with-comments-and-visitors/" target="_blank" rel="external">hexo添加访问统计</a></li>
<li>使用不蒜子脚本.</li>
<li>修改主题模板,几处地方,效果如本博客.</li>
</ul>
<h3 id="3-1-博文访问量统计修改点-只适用于Next主题-其他主题-参考修改"><a href="#3-1-博文访问量统计修改点-只适用于Next主题-其他主题-参考修改" class="headerlink" title="3.1 博文访问量统计修改点:(只适用于Next主题,其他主题,参考修改)"></a>3.1 博文访问量统计修改点:(只适用于Next主题,其他主题,参考修改)</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">iBlog/themes/next/layout/_macro/post.swig</span><br><span class="line"></span><br><span class="line">在<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-header"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> 中找到<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-meta"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">在其中,最末尾处,添加如下代码:(该代码实现,非博客主页,才显示阅读量统计)</span><br><span class="line">     </span><br><span class="line">        &#123;% if not is_index %&#125;</span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_page_pv"</span>&gt;</span>  |  阅读量 <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_page_pv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> 次<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        &#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-添加多说评论"><a href="#4-添加多说评论" class="headerlink" title="4. 添加多说评论"></a>4. 添加多说评论</h2><ul>
<li><a href="http://dev.duoshuo.com/threads/541d3b2b40b5abcd2e4df0e9" target="_blank" rel="external">Hexo使用多说教程</a></li>
<li><a href="http://dev.duoshuo.com/docs/5016427f77cf5fa30500000e" target="_blank" rel="external">多说API-代码显示文章评论数方法</a></li>
</ul>
<h2 id="5-添加站内搜索"><a href="#5-添加站内搜索" class="headerlink" title="5. 添加站内搜索"></a>5. 添加站内搜索</h2><ul>
<li>站内搜索服务: 百度,google.考虑google被墙,建议选择第三方的.</li>
<li>第三方站内搜索服务: tinysou/Swiftype</li>
<li><a href="https://swiftype.com" target="_blank" rel="external">swiftype服务</a></li>
<li><a href="http://doc.tinysou.com" target="_blank" rel="external">tinysou服务</a></li>
<li><a href="http://www.arao.me/2015/hexo-next-theme-optimize-base/" target="_blank" rel="external">参考: 动动手指，NexT主题与Hexo更搭哦（基础篇）</a></li>
<li>特别提醒: 参考如上文档修改后,如果博客中的swiftype搜索框,无法正常弹出.请注意检查chrome浏览器的广告插件(Adblock Plus),设置成”对当前网站禁用”,刷新即可.</li>
</ul>
<h2 id="6-SEO优化"><a href="#6-SEO优化" class="headerlink" title="6. SEO优化"></a>6. SEO优化</h2><h3 id="6-1-优化title"><a href="#6-1-优化title" class="headerlink" title="6.1 优化title"></a>6.1 优化title</h3><p>更改index.swig文件，文件路径是your-hexo-site\themes\next\layout<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">将下面代码:</span><br><span class="line">&#123;% block title %&#125; </span><br><span class="line">  &#123;&#123; config.title &#125;&#125; </span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">改成:</span><br><span class="line">&#123;% block title %&#125; </span><br><span class="line">  &#123;&#123; config.title &#125;&#125; - &#123;&#123; theme.description &#125;&#125; </span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>首页标题,会更符合 “网站名称 - 网站描述” 这习惯。</li>
</ul>
<h3 id="6-2-进阶-seo优化，在Title中显示关键词"><a href="#6-2-进阶-seo优化，在Title中显示关键词" class="headerlink" title="6.2 进阶: seo优化，在Title中显示关键词"></a>6.2 进阶: seo优化，在Title中显示关键词</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block title %&#125; </span><br><span class="line">  &#123;&#123; theme.keywords &#125;&#125; - &#123;&#123; config.title &#125;&#125; - &#123;&#123; theme.description &#125;&#125; </span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure>
<h2 id="7-添加友情链接"><a href="#7-添加友情链接" class="headerlink" title="7. 添加友情链接"></a>7. 添加友情链接</h2><ul>
<li><a href="http://zipperary.com/2013/05/30/hexo-guide-4/" target="_blank" rel="external">参考</a></li>
</ul>
<h2 id="8-添加最近访客"><a href="#8-添加最近访客" class="headerlink" title="8. 添加最近访客"></a>8. 添加最近访客</h2><ul>
<li><a href="http://www.arao.me/2015/hexo-next-theme-optimize-duoshuo/" target="_blank" rel="external">动动手指，给你的Hexo站点添加最近访客（多说篇）</a></li>
</ul>
<h2 id="9-博客迁移至gitcafe"><a href="#9-博客迁移至gitcafe" class="headerlink" title="9. 博客迁移至gitcafe"></a>9. 博客迁移至gitcafe</h2><ul>
<li>[gitcafe](<a href="https://gitcafe.com" target="_blank" rel="external">https://gitcafe.com</a></li>
<li>参考: <a href="http://zipperary.com/2013/11/23/hexo-to-gitcafe/" target="_blank" rel="external">《托管博客到gitcafe》</a></li>
<li>由于 Google 被大陆屏蔽，Github 从大陆访问也比较慢，且不太稳定。</li>
<li>考虑把 Blog 迁移到国内，Gitcafe提供的免费 Page 服务，方便迁移。</li>
<li>建议把 google 提供的 jquery 和 fonts api 全换掉。<br>由于不同的主题其位置不同，最好是搜索一下。</li>
</ul>
<h2 id="10-博文中添加图片-音乐-视频"><a href="#10-博文中添加图片-音乐-视频" class="headerlink" title="10 博文中添加图片,音乐,视频."></a>10 博文中添加图片,音乐,视频.</h2><ul>
<li><a href="http://zipperary.com/2013/06/27/media-on-hexo/" target="_blank" rel="external">参考</a></li>
</ul>
<h2 id="11-博客绑定二级域名"><a href="#11-博客绑定二级域名" class="headerlink" title="11. 博客绑定二级域名"></a>11. 博客绑定二级域名</h2><ul>
<li>待更新.</li>
</ul>
<p>—博文参考<a href="http://www.selfrebuild.net/2015/06/24/Github-Hexo-Next主题个性化定制/" target="_blank" rel="external">Github-Hexo-Next主题个性化定制</a></p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=28947001&auto=1&height=66"></iframe>  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/hexo/">hexo</a><a href="/tags/next/">next</a>
  </div>




<div class="article-share" id="share">

  <div data-url="http://yoursite.com/2016/05/06/next/" data-title="next主题优化 | Hexo" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2016/05/09/hello-world/" title="Hello World">
  <strong>PREVIOUS:</strong><br/>
  <span>
  Hello World</span>
</a>
</div>


<div class="next">
<a href="/2016/05/06/markdown/"  title="markdown简要语法">
 <strong>NEXT:</strong><br/> 
 <span>markdown简要语法
</span>
</a>
</div>

</nav>

	
</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
  <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#NexT主题与Hexo更搭哦"><span class="toc-number">1.</span> <span class="toc-text">NexT主题与Hexo更搭哦</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-添加自定义导航分类（以Next主题为例，其他主题类似）"><span class="toc-number">1.1.</span> <span class="toc-text">1. 添加自定义导航分类（以Next主题为例，其他主题类似）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#需求"><span class="toc-number">1.1.1.</span> <span class="toc-text">需求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改点"><span class="toc-number">1.1.2.</span> <span class="toc-text">修改点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#步骤"><span class="toc-number">1.1.3.</span> <span class="toc-text">步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-新建source-tools-index-md文件"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">1. 新建source/tools/index.md文件.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-修改themes-next-config-yml文件参数"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">2. 修改themes/next/_config.yml文件参数.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-修改themes-next-languages-zh-Hans-yml"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">3. 修改themes/next/languages/zh-Hans.yml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-修改完-重新编译部署即可"><span class="toc-number">1.1.3.4.</span> <span class="toc-text">4. 修改完,重新编译部署即可.</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-添加Fork-Me-On-Github"><span class="toc-number">1.2.</span> <span class="toc-text">2. 添加Fork Me On Github</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-拷贝Github挂件样式代码如下"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. 拷贝Github挂件样式代码如下:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-修改上述代码中href地址为自己的github地址"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. 修改上述代码中href地址为自己的github地址.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-修改hexo主题-这里以Next主题为例-不同主题修改略有差异-请注意"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. 修改hexo主题(这里以Next主题为例,不同主题修改略有差异,请注意)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-添加博客访问量统计"><span class="toc-number">1.3.</span> <span class="toc-text">3. 添加博客访问量统计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-博文访问量统计修改点-只适用于Next主题-其他主题-参考修改"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1 博文访问量统计修改点:(只适用于Next主题,其他主题,参考修改)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-添加多说评论"><span class="toc-number">1.4.</span> <span class="toc-text">4. 添加多说评论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-添加站内搜索"><span class="toc-number">1.5.</span> <span class="toc-text">5. 添加站内搜索</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SEO优化"><span class="toc-number">1.6.</span> <span class="toc-text">6. SEO优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-优化title"><span class="toc-number">1.6.1.</span> <span class="toc-text">6.1 优化title</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-进阶-seo优化，在Title中显示关键词"><span class="toc-number">1.6.2.</span> <span class="toc-text">6.2 进阶: seo优化，在Title中显示关键词</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-添加友情链接"><span class="toc-number">1.7.</span> <span class="toc-text">7. 添加友情链接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-添加最近访客"><span class="toc-number">1.8.</span> <span class="toc-text">8. 添加最近访客</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-博客迁移至gitcafe"><span class="toc-number">1.9.</span> <span class="toc-text">9. 博客迁移至gitcafe</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-博文中添加图片-音乐-视频"><span class="toc-number">1.10.</span> <span class="toc-text">10 博文中添加图片,音乐,视频.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-博客绑定二级域名"><span class="toc-number">1.11.</span> <span class="toc-text">11. 博客绑定二级域名</span></a></li></ol></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  

  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			<li><a href="/tags/Is-everything-OKay/" title="Is everything OKay?">Is everything OKay?<sup>1</sup></a></li>
		
			<li><a href="/tags/blog/" title="blog">blog<sup>1</sup></a></li>
		
			<li><a href="/tags/cmd-markdown/" title="cmd markdown">cmd markdown<sup>1</sup></a></li>
		
			<li><a href="/tags/github/" title="github">github<sup>1</sup></a></li>
		
			<li><a href="/tags/hexo/" title="hexo">hexo<sup>2</sup></a></li>
		
			<li><a href="/tags/markdown/" title="markdown">markdown<sup>2</sup></a></li>
		
			<li><a href="/tags/next/" title="next">next<sup>1</sup></a></li>
		
			<li><a href="/tags/test-3/" title="test 3!">test 3!<sup>1</sup></a></li>
		
			<li><a href="/tags/why-no-test-2/" title="why no test 2??">why no test 2??<sup>1</sup></a></li>
		
			<li><a href="/tags/why-nothing/" title="why nothing???">why nothing???<sup>1</sup></a></li>
		
			<li><a href="/tags/wo-zhe-ge-xu-ni-ji-li-mian-bu-zhi-dao-wei-she-me-bu-neng-yong-zhong-wen-xian-jiang-jiu-zhe-kan-yi-xia-ba-fan-zheng-di-yi-pian-blog-ce-shi-yi-xia-kan-kan/" title="wo zhe ge xu ni ji li mian bu zhi dao wei she me ,bu neng yong zhong wen,xian jiang jiu zhe kan yi xia ba ,fan zheng ,di yi pian blog,ce shi yi xia kan kan .">wo zhe ge xu ni ji li mian bu zhi dao wei she me ,bu neng yong zhong wen,xian jiang jiu zhe kan yi xia ba ,fan zheng ,di yi pian blog,ce shi yi xia kan kan .<sup>1</sup></a></li>
		
			<li><a href="/tags/语法/" title="语法">语法<sup>1</sup></a></li>
		
		</ul>
</div>


  <div class="rsspart">
	<a href="null" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<div class="social-font clearfix">
		
		
		
		
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2016 
		
		<a href="http://yoursite.com" target="_blank" title="John Doe">John Doe</a>
		
		</p>

		<script type="text/javascript">
  		(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  		(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  		e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  		})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
  
  		_st('install','EQMsDaJ-TKU1uj15exKR','2.0.0');
		</script>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>






  </body>
</html>
